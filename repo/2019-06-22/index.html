<!doctype html>

<!--
  A presentation done entirely in Markdown, as found in extras/markdown/.
  
  By: @henrikingo
-->

<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>TTY设备驱动</title>

  <meta name="description" content="Authoring impress.js presentations in Markdown" />
  <meta name="author" content="Henrik Ingo" />
  <link rel="stylesheet" href="../../extras/highlight/styles/github.css">


  <!--
        Styles specific for this example presentation. 
    -->
  <link href="css/markdown-slides.css" rel="stylesheet" />
  <link href="css/devopsy.css" rel="stylesheet" />
  <link href="css/effects.css" rel="stylesheet" />

</head>

<body class="impress-not-supported">
  <div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified
      version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
  </div>

  <div id="impress" data-transition-duration="1000">

<div id="home" class="step slide markdown" data-rel-x="0" data-rel-y="900">
# TTY设备驱动
-----
# 需要回答的问题
1. 什么是tty
2. 如果抛弃历史原因，如何设计tty程序
3. tty设备驱动可以实现什么功能
4. tty设备驱动主要包括什么东西 ?
5. tty 和 键盘驱动 以及 是如何沟通联系起来的


## 可能有用的问题
1. 为什么采用fs(everything is file 真的正确吗)的方法，难道真的没有更好的办法吗?
2. 似乎设备驱动的步骤的总是那几个 : malloc init register driver/ register device
3. driver 和 device 的区别是什么，为什么需要进行两次注册 ? 此外mknod 和 insmod 各自实现的功能是什么 ?
4. /dev /sys /proc 这些文件夹和设备驱动的关系是什么?
5. 为什么在interrupt context 不能调用可能导致睡眠的函数?
6. 那些机制实现内核可以动态的装载模块的 ? 除了export_symbols 之类的东西


-----
# 细节问题
1. 到底tty core 对应的代码是什么，函数，文件，变量 ?
2. tty core和driver 如何沟通 ?
3. tty 架构是什么样子的，提供证据
4. port 到底在上下文中间指的是什么东西 ?

-----
## 具体内容
1. 介绍三个结构体
2. 介绍重要函数
3. 介绍整个驱动工作的流程
4. 说明一下有什么特殊的东西的
5. 提供习题以及参考资料


-----
## 
1. tty_struct
2. tty_operation
3. tty_driver
4. tty_port
4. termios

1. 三者的联系是什么 ?

似乎初始化的内容就是在其中主要将 driver 和 termios ,op, port 挂钩起来, 其中port 的挂钩似乎含有单独的说明!

而tty_struct 几乎是所有的函数调用的时候参数，但是是谁提供该参数目前并不清楚。

-----
# 习题
1. 如何修改以实现支持kernel 5.1的内核
2. 实现终端模拟器

# 外部资料
2. 



</div>

    <script type="text/javascript">
      var enableBwCss = function () {
        disableDevopsCss();
        disableEffectsCss();
      };

      var enableDevopsCss = function () {
        document.body.classList.add("devopsy");
        disableEffectsCss();
      };

      var disableDevopsCss = function () {
        document.body.classList.remove("devopsy");
      };

      var enableEffectsCss = function () {
        document.body.classList.add("effects");
        disableDevopsCss();
      };

      var disableEffectsCss = function () {
        document.body.classList.remove("effects");
      };

      enableEffectsCss();

    </script>
  </div>

  <div id="impress-toolbar"></div>
  <div id="impress-help"></div>


  <!-- Extra modules
     Load highlight.js, mermaid.js and markdown.js from extras.
     See also src/plugins/extras/extras.js -->
  <script type="text/javascript" src="../../extras/highlight/highlight.pack.js"></script>
  <script type="text/javascript" src="../../extras/mermaid/mermaid.min.js"></script>
  <script type="text/javascript" src="../../extras/markdown/markdown.js"></script>

  <!--
    To make all described above really work, you need to include impress.js in the page.
    You also need to call a `impress().init()` function to initialize impress.js presentation.
    And you should do it in the end of your document. 
-->
  <script type="text/javascript" src="../../js/impress.js"></script>
  <script>impress().init();</script>
</body>

</html>
